<!DOCTYPE html>
<html>

    <head>
        <title>Progress Bars</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <h1>Random Progress Bars</h1>

        <h2>Time until next hour</h2>
        <div class="progress-bar-box">
            <div class="progress-bar-back">
                <div id="progress-bar" class="progress-bar">

                </div>
            </div>
        </div>

        <p id="progress-percentage">100.0%</p>
        <p id="progress-time-left">00:30</p>

    </body>

</html>

<script>
    var progressBar = document.getElementById("progress-bar");
    var progressPercentage = document.getElementById("progress-percentage");
    var progressTimeLeft = document.getElementById("progress-time-left");
    const time = [3600]
    const timeLeft = [3600];
    const minutesLeft = [];
    const secondsLeft = [];
    var width = 100; 
    
    const updateTimer = setInterval(function(){
            minutesLeft[0] = Math.floor(timeLeft[0] / 60);
            secondsLeft[0] = Math.round(timeLeft[0] % 60);

            if (minutesLeft[0] < 10) {
                minutesLeft[0] = "0" + minutesLeft[0].toString();
            }  
            if (secondsLeft[0] < 10) {
                secondsLeft[0] = "0" + secondsLeft[0].toString();
            }

            progressTimeLeft.innerHTML = minutesLeft[0] + ":" + secondsLeft[0];
        }
        , 1000)

    const hourInterval = setInterval(function () {
        if (width <= 0) {
            clearInterval(hourInterval);
        }

        width -= 0.1;
        timeLeft[0] -= time[0]/1000
        
                    progressBar.style.width = width + "%";
            progressPercentage.innerHTML = width.toFixed(1) + "%";
    }
    , time[0]);

</script>
